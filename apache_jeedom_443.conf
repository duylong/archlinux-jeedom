<VirtualHost *:443>
  SSLCipherSuite HIGH:MEDIUM:!MD5:!RC4
  SSLProxyCipherSuite HIGH:MEDIUM:!MD5:!RC4
  SSLHonorCipherOrder on 
  SSLProtocol TLSv1.2
  SSLProxyProtocol TLSv1.2

  SSLVerifyClient require
  SSLEngine on
  SSLCertificateFile "/path/to/ca/intermediate/certs/moncloud.prat.xyz.cert.pem"
  SSLCertificateKeyFile "/path/to/ca/intermediate/private/moncloud.prat.xyz.key.pem.nopass"

  Header always add Strict-Transport-Security "max-age=15768000"

  ServerAdmin webmaster@localhost
  #ServerName razbpi

  ErrorLog /var/log/httpd/jeedom.info-error_ssllog
  CustomLog /var/log/httpd/jeedom.info-access_ssllog common

  DocumentRoot /usr/share/webapps/jeedom/
  <Directory />
    Require all denied
    Options None
    AllowOverride None
  </Directory>

  <Directory /usr/share/webapps/jeedom/>
    Require all granted
    DirectoryIndex index.html index.php
  </Directory>

  <Directory /usr/share/webapps/jeedom/tmp/>
    Require all denied
  </Directory>

  <Directory /usr/share/webapps/jeedom/log/>
    Require all denied
  </Directory>

  <Directory /usr/share/webapps/jeedom/backup/>
    Require all denied
  </Directory>

  <Directory /usr/share/webapps/jeedom/sysinfodsqg89sd4fg231sd6f8gs6dfg21/>
    Require all denied
  </Directory>

  ProxyPreserveHost On
  ProxyRequests On

  <Location /nodeJS/>
    ProxyPass http://127.0.0.1:8070/
    ProxyPassReverse http://127.0.0.1:8070/
  </Location>
                                                                                                                                                                    
  <Location /socket.io/>
    ProxyPass  http://127.0.0.1:8070/socket.io/
    ProxyPassReverse http://127.0.0.1:8070/socket.io/
  </Location>

  <ProxyMatch ^((?!127\.0\.0\.1).)*$>
    Require all denied
  </ProxyMatch>

  <ProxyMatch 127\.0\.0\.1>
    Require all granted
  </ProxyMatch>

</VirtualHost>

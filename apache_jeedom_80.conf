<VirtualHost *:80>
  ServerAdmin webmaster@localhost
  #ServerName razbpi

  ErrorLog /var/log/httpd/jeedom.info-error_log
  CustomLog /var/log/httpd/jeedom.info-access_log common

  DocumentRoot /srv/http/jeedom/
  <Directory />
    Order Deny,Allow
    Deny from all
    Options None
    AllowOverride None
  </Directory>

  <Directory /srv/http/jeedom/>
    Order allow,deny
    allow from all
    DirectoryIndex index.html index.php
  </Directory>

  <Directory /srv/http/jeedom/tmp/>
    Order allow,deny
    deny from all
  </Directory>

  <Directory /srv/http/jeedom/log/>
    Order allow,deny
    deny from all
  </Directory>
                                                                                                                                                                    
  <Directory /srv/http/jeedom/backup/>
    Order allow,deny
    deny from all
  </Directory>

  ProxyPreserveHost On
  ProxyRequests On

  <Location /nodeJS/>
    ProxyPass http://127.0.0.1:8070/
    ProxyPassReverse http://127.0.0.1:8070/
  </Location>
                                                                                                                                                                    
  <Location /socket.io/>
    ProxyPass  http://127.0.0.1:8070/socket.io/
    ProxyPassReverse http://127.0.0.1:8070/socket.io/
  </Location>

  <ProxyMatch ^((?!127\.0\.0\.1).)*$>
    Order deny,allow
    Deny from all
  </ProxyMatch>

  <ProxyMatch 127\.0\.0\.1>
    Order deny,allow
    Allow from all
  </ProxyMatch>

</VirtualHost>
